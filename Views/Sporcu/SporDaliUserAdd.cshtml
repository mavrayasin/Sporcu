@using Sporcu.Dtos
@model SporcuSporDaliAddDTO
@{
    ViewData["Title"] = "Sporcu Dali User Add";
}
<body>
    <div class="row">
        <div class="col-sm-12">
            <div class="card-box">
                <h4 class="m-t-0 header-title"><b></b></h4>

                <div class="row">
                    <div class="col-lg-12">

                 @*        @using (Html.BeginForm("SporDaliUserAdd", "Sporcu", FormMethod.Post, new { enctype = "multipart/form-data", id = "formDosyaPost" }))
                        {
 *@
                            <div class="form-group row" id="SporcuDiv">
                                <label class="col-md-2 control-label"> Spor Dalları </label>
                                <div class="col-md-3">
                                    @Html.DropDownListFor(
                                    x => x.SporcuId,
                                                                Model.SporcuListesi,
                                                                "Sporcu Seçiniz",
                                                                new { @class = "form-control" }
                                                                )


                            </div>
                        </div>
                        <div class="form-group row" id="SporDaliDiv">
                            <label class="col-md-2 control-label"> Spor Dalları </label>
                            <div class="col-md-3">
                                @Html.DropDownListFor(
                                                                x => x.SporDaliId,
                                                                Model.SporDaliListesi,
                                                                "Spor Dalı Seçiniz",
                                                                new { @class = "form-control" }
                                                                )


                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-2 control-label"></label>
                            <div class="col-md-3">
                            @*     <button class="btn btn-primary btn-rounded w-md waves-effect waves-light m-b-5 btn-sm" type="submit" data-placement="right" title="Add New Spor Dali"
                                        style="font-size:15px">
                                    Ekle
                                </button> *@

                                <button class="btn btn-block btn-success btn-xs" type="button" style="width:150px; height:30px" onclick="ekle()"> Ekle</button>

                            </div>
                        </div>

                     @*           } *@
                    </div>

                </div>
            </div>
        </div>
    </div>
    </body>

    <script>
      function ekle() {
          // Sporcu seçili değeri al
          var sporcuId = $('#SporcuId').val();
          // Spor Dali seçili değeri al
          var sporDaliId = $('#SporDaliId').val();

          $.ajax({
              url: "/Sporcu/SporDaliUserAddMetod",
              data: { SporcuId: sporcuId, SporDaliId: sporDaliId },
              type: "POST",
              success: function (res) {
                  alert("Ekleme başarılı!");
                  console.log(res);
              },
              error: function (xhr, status, error) {
                  alert("Hata oluştu: " + error);
              }
          });
      }
</script>

